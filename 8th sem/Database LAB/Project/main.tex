\documentclass{article}

\usepackage{graphicx}
\usepackage{rotating}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{fancyhdr}
\usepackage{listings}
%\usepackage{xcolor}
\usepackage{color}
\usepackage{amsfonts}
\usepackage{textcomp}
\usepackage{float}
\usepackage{longtable}
\usepackage{booktabs}
\usepackage[sorting=none]{biblatex}
\usepackage[margin=1in]{geometry}
\usepackage[font={small,it}]{caption}
\usepackage[table,xcdraw]{xcolor}
\usepackage{placeins}
\usepackage{xepersian}





%\DeclareMathOperator*{\btie}{\bowtie}
\addbibresource{bibliography.bib}
\settextfont[Scale=1.2]{B-NAZANIN.TTF}
\setlatintextfont[Scale=1]{Times New Roman}
\renewcommand{\baselinestretch}{1.5}
\pagestyle{fancy}
\fancyhf{}
\rhead{فاز 1 و 2 پروژه‌ی آزمایشگاه پایگاه داده‌ها}
\lhead{\thepage}
\rfoot{علیرضا ابره فروش، سپهر شیرانی، مسعود هادی}
\lfoot{9816603}
\renewcommand{\headrulewidth}{1pt}
\renewcommand{\footrulewidth}{1pt}
%%%%%%%%%%
\lstset
{
    language=[latex]tex,
    basicstyle=\ttfamily,
    commentstyle=\color{black},
    columns=fullflexible,
    keepspaces=true,
    upquote=true,
    showstringspaces=false,
    morestring=[s]\\\%,
    stringstyle=\color{black},
}
%%%%%%%%%%
%beginMatlab
\definecolor{mygreen}{RGB}{28,172,0} % color values Red, Green, Blue
\definecolor{mylilas}{RGB}{170,55,241}
%endMatlab
\begin{document}
%beginMatlab
\lstset{language=Matlab,%
    %basicstyle=\color{red},
    breaklines=true,%
    morekeywords={matlab2tikz},
    keywordstyle=\color{blue},%
    morekeywords=[2]{1}, keywordstyle=[2]{\color{black}},
    identifierstyle=\color{black},%
    stringstyle=\color{mylilas},
    commentstyle=\color{mygreen},%
    showstringspaces=false,%without this there will be a symbol in the places where there is a space
    numbers=left,%
    numberstyle={\tiny \color{black}},% size of the numbers
    numbersep=9pt, % this defines how far the numbers are from the text
    emph=[1]{for,end,break},emphstyle=[1]\color{red}, %some words to emphasise
    %emph=[2]{word1,word2}, emphstyle=[2]{style},    
}
%endMatlab
\input{titlepage}

%\tableofcontents
\newpage


\lr{BasMob} یک نرم افزار نمایش نتایج مسابقات بستکبال است. در این نرم افزار کاربران قادر به مشاهده‌ی نتایج بازی‌ها، امتیاز بازیکنان، عملکرد تیم‌ها، مربیان و  بازیکنان مختلف در طول فصل، رده‌بندی تیم‌ها در طول فصل در کنفرانس و دیویژن مرتبط به آن تیم به همراه برد و باخت‌های آن‌ها هستند.
\section{\lr{Tables}}%1
\lr{Table}‌های این پایگاه‌داده در جدول زیر معرفی شده‌اند.
\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|}
\hline
            & \textbf{نام \lr{Table}} & \textbf{توضیحات}                          \\ \hline
\textbf{1}  & \lr{Player}          & مشخصات بازیکن                             \\ \hline
\textbf{2}  & \lr{Team}            & مشخصات تیم                                \\ \hline
\textbf{3}  & \lr{Game}            & مشخصات مسابقه اعم از زمان برگزاری و نتیجه \\ \hline
\textbf{4}  & \lr{Confrence}       & کنفرانس (مفهوم گروه‌بندی)                 \\ \hline
\textbf{5}  & \lr{TeamStat}        & عملکرد کلی تیم در طول یک فصل              \\ \hline
\textbf{6}  & \lr{StatPerGame}     & عملکرد بازیکنان تیم در یک بازی            \\ \hline
\textbf{7}  & \lr{StatPerSeason}   & عملکرد بازیکن در طول فصل                  \\ \hline
\textbf{8}  & \lr{Ranking}         & رده‌بندی تیم‌ها در یک کنفرانس             \\ \hline
\textbf{9}  & \lr{Division}        & دیویژن‌های یک لیگ                         \\ \hline
\textbf{10} & \lr{Coach}           & مربی                                      \\ \hline
\textbf{11} & \lr{CoachStat}       & عملکرد مربی در طول فصل                    \\ \hline
\end{tabular}
\end{table}

همچنین هر یک از \lr{Table}ها به صورت زیر به تفکیک \lr{attribute} توضیح داده شده‌اند.
\subsection{\lr{Player}}
\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
\textbf{}  & \textbf{نام \lr{attribute}} & نوع \lr{attribute} & \textbf{توضیحات}                  \\ \hline
\textbf{1} & \lr{ID}                          & \lr{int}                & شناسه‌ی بازیکن                    \\ \hline
\textbf{2} & \lr{TeamID}                     & \lr{int}                & شناسه‌ی تیم بازیکن                \\ \hline
\textbf{3} & \lr{Name}                        & \lr{varchar(255)}            & نام بازیکن                        \\ \hline
\textbf{4} & \lr{Position}                    & \lr{varchar(255)}            & پست بازیکن                        \\ \hline
\textbf{5} & \lr{age}                         & \lr{int}                & سن                                \\ \hline
\textbf{6} & \lr{Height}                      & \lr{int}                & قد                                \\ \hline
\textbf{7} & \lr{Weight}                      & \lr{int}                & وزن                               \\ \hline
\textbf{8} & \lr{DraftYear}                   & \lr{int}                & سال وقوع \lr{Draft}               \\ \hline
\textbf{9} & \lr{DraftPick}                   & \lr{int}                & ترتیب انتخاب بازیکن در \lr{Draft} \\ \hline
\end{tabular}
\end{table}


\subsection{\lr{Team}}
\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
\textbf{}  & \textbf{نام \lr{attribute}} & نوع \lr{attribute} & \textbf{توضیحات} \\ \hline
\textbf{1} & \lr{ID}                          & \lr{int}                & شناسه‌ی تیم      \\ \hline
\textbf{2} & \lr{Name}                        & \lr{varchar(255)}            & نام تیم          \\ \hline
\textbf{3} & \lr{Stadium}                     & \lr{varchar(255)}            & استادیوم         \\ \hline
\textbf{4} & \lr{City}                        & \lr{varchar(255)}            & شهر              \\ \hline
\textbf{5} & \lr{DivisionID}                  & \lr{int}                & شناسه دیویژن     \\ \hline
\textbf{6} & \lr{ConferenceID}                & \lr{int}                & شناسه کنفرانس    \\ \hline
\textbf{7} & \lr{CoachID}                     & \lr{int}                & شناسه مربی       \\ \hline
\end{tabular}
\end{table}


\subsection{\lr{Game}}
\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
\textbf{}  & \textbf{نام \lr{attribute}} & نوع \lr{attribute} & \textbf{توضیحات}  \\ \hline
\textbf{1} & \lr{ID}                     & \lr{int}           & شناسه‌ی بازی      \\ \hline
\textbf{2} & \lr{HostTeamID}             & \lr{int}           & شناسه تیم میزبان  \\ \hline
\textbf{3} & \lr{GuestTeamID}            & \lr{int}           & شناسه تیم مهمان   \\ \hline
\textbf{4} & \lr{HostTeamScore}          & \lr{int}           & امتیاز تیم میزبان \\ \hline
\textbf{5} & \lr{GuestTeamScore}         & \lr{int}           & امتیاز تیم مهمان  \\ \hline
\textbf{6} & \lr{GameDate}               & \lr{date}          & تاریخ بازی        \\ \hline
\textbf{7} & \lr{WinnerTeam}             & \lr{varchar(1)}    & تیم برنده         \\ \hline
\end{tabular}
\end{table}


\subsection{\lr{Confrence}}
\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
\textbf{}  & \textbf{نام \lr{attribute}} & نوع \lr{attribute} & \textbf{توضیحات} \\ \hline
\textbf{1} & \lr{ID}                     & \lr{int}           & شناسه‌ی کنفرانس  \\ \hline
\textbf{2} & \lr{Name}                   & \lr{varchar(255)}       & نام کنفرانس      \\ \hline
\end{tabular}
\end{table}


\subsection{\lr{TeamStat}}
\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
\textbf{}  & \textbf{نام \lr{attribute}} & نوع \lr{attribute} & \textbf{توضیحات}   \\ \hline
\textbf{1} & \lr{TeamID}                 & \lr{int}           & شناسه‌ی تیم        \\ \hline
2          & \lr{Points}                 & \lr{int}           & امتیازها           \\ \hline
3          & \lr{Rebounds}               & \lr{int}           & دریافت             \\ \hline
4          & \lr{Assists}                & \lr{int}           & پاس گل             \\ \hline
5          & \lr{TurnOvers}              & \lr{int}           & اشتباه             \\ \hline
6          & \lr{Steals}                 & \lr{int}           & سرقت               \\ \hline
7          & \lr{Blocks}                 & \lr{int}           & بلاک               \\ \hline
8          & \lr{FieldGoalShots}         & \lr{int}           & شوت‌های زمینی      \\ \hline
9          & \lr{FieldGoalMade}          & \lr{int}           & گل زده زمینی       \\ \hline
10         & \lr{ThreeGoalShots}         & \lr{int}           & شوت‌های سه امتیازی \\ \hline
11         & \lr{ThreeGoalMade}          & \lr{int}           & کل زده سه امتیازی  \\ \hline
12         & \lr{FreeThrowShots}         & \lr{int}           & شوت‌های آزاد       \\ \hline
13         & \lr{FreeThrowMade}          & \lr{int}           & گل زده آزاد        \\ \hline
14         & \lr{Fouls}                  & \lr{int}           & خطا                \\ \hline
\end{tabular}
\end{table}


\subsection{\lr{StatPerGame}}
\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
\textbf{}  & \textbf{نام \lr{attribute}} & نوع \lr{attribute} & \textbf{توضیحات}   \\ \hline
\textbf{1} & \lr{PlayerID}               & \lr{int}           & شناسه‌ی بازیکن     \\ \hline
2          & \lr{TeamID}                 & \lr{int}           & شناسه تیم          \\ \hline
3          & \lr{GameID}                 & \lr{int}           & شناسه بازی         \\ \hline
4          & \lr{Minutes}                & \lr{int}           & دقایق              \\ \hline
5          & \lr{Points}                 & \lr{int}           & امتیازها           \\ \hline
6          & \lr{Rebounds}               & \lr{int}           & دریافت             \\ \hline
7          & \lr{Assists}                & \lr{int}           & پاس گل             \\ \hline
8          & \lr{TurnOvers}              & \lr{int}           & اشتباه             \\ \hline
9          & \lr{Steals}                 & \lr{int}           & سرقت               \\ \hline
10         & \lr{Blocks}                 & \lr{int}           & بلاک               \\ \hline
11         & \lr{FieldGoalShots}         & \lr{int}           & شوت‌های زمینی      \\ \hline
12         & \lr{FieldGoalMade}          & \lr{int}           & گل زده زمینی       \\ \hline
13         & \lr{ThreeGoalShots}         & \lr{int}           & شوت‌های سه امتیازی \\ \hline
14         & \lr{ThreeGoalMade}          & \lr{int}           & کل زده سه امتیازی  \\ \hline
15         & \lr{FreeThrowShots}         & \lr{int}           & شوت‌های آزاد       \\ \hline
16         & \lr{FreeThrowMade}          & \lr{int}           & گل زده آزاد        \\ \hline
17         & \lr{Fouls}                  & \lr{int}           & خطا                \\ \hline
18         & \lr{Started}                & \lr{int}           & شروع شده           \\ \hline
\end{tabular}
\end{table}

\subsection{\lr{StatPerSeason}}
\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
\textbf{}  & \textbf{نام \lr{attribute}} & نوع \lr{attribute} & \textbf{توضیحات}   \\ \hline
\textbf{1} & \lr{PlayerID}               & \lr{int}           & شناسه‌ی بازیکن     \\ \hline
2          & \lr{TeamID}                 & \lr{int}           & شناسه تیم          \\ \hline
3          & \lr{Minutes}                & \lr{int}           & دقایق              \\ \hline
4          & \lr{Points}                 & \lr{int}           & امتیازها           \\ \hline
5          & \lr{Rebounds}               & \lr{int}           & دریافت             \\ \hline
6          & \lr{Assists}                & \lr{int}           & پاس گل             \\ \hline
7          & \lr{TurnOvers}              & \lr{int}           & اشتباه             \\ \hline
8          & \lr{Steals}                 & \lr{int}           & سرقت               \\ \hline
9          & \lr{Blocks}                 & \lr{int}           & بلاک               \\ \hline
10         & \lr{FieldGoalShots}         & \lr{int}           & شوت‌های زمینی      \\ \hline
11         & \lr{FieldGoalMade}          & \lr{int}           & گل زده زمینی       \\ \hline
12         & \lr{ThreeGoalShots}         & \lr{int}           & شوت‌های سه امتیازی \\ \hline
13         & \lr{ThreeGoalMade}          & \lr{int}           & کل زده سه امتیازی  \\ \hline
14         & \lr{FreeThrowShots}         & \lr{int}           & شوت‌های آزاد       \\ \hline
15         & \lr{FreeThrowMade}          & \lr{int}           & گل زده آزاد        \\ \hline
16         & \lr{Fouls}                  & \lr{int}           & خطا                \\ \hline
17         & \lr{Started}                & \lr{int}           & شروع شده           \\ \hline
\end{tabular}
\end{table}

\subsection{\lr{Ranking}}
\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
\textbf{}  & \textbf{نام \lr{attribute}} & نوع \lr{attribute} & \textbf{توضیحات} \\ \hline
\textbf{1} & \lr{ConferenceID}           & \lr{int}           & شناسه‌ی کنفرانس  \\ \hline
2          & \lr{TeamID}                 & \lr{int}           & شناسه تیم        \\ \hline
3          & \lr{Wins}                   & \lr{int}           & برد              \\ \hline
4          & \lr{Losses}                 & \lr{int}           & باخت             \\ \hline
\end{tabular}
\end{table}

\subsection{\lr{Division}}
\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
\textbf{}  & \textbf{نام \lr{attribute}} & نوع \lr{attribute} & \textbf{توضیحات} \\ \hline
\textbf{1} & \lr{ID}                     & \lr{int}           & شناسه‌ی دیویژن   \\ \hline
2          & \lr{Name}                   & varchar(255)       & نام دیویژن       \\ \hline
\end{tabular}
\end{table}

\subsection{\lr{Coach}}
\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
\textbf{}  & \textbf{نام \lr{attribute}} & نوع \lr{attribute} & \textbf{توضیحات} \\ \hline
\textbf{1} & \lr{ID}                     & \lr{int}           & شناسه‌ی مربی     \\ \hline
2          & \lr{Name}                   & \lr{varchar(255)}  & نام مربی         \\ \hline
3          & \lr{Birthdate}              & \lr{date}          & تاریخ            \\ \hline
4          & \lr{Experience}             & \lr{int}           & تجربه            \\ \hline
\end{tabular}
\end{table}


\subsection{\lr{CoachStat}}
\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
\textbf{}  & \textbf{نام \lr{attribute}} & نوع \lr{attribute} & \textbf{توضیحات}   \\ \hline
\textbf{1} & \lr{CoachID}                & \lr{int}           & شناسه‌ی مربی       \\ \hline
2          & \lr{TeamID}                 & \lr{int}           & شناسه تیم          \\ \hline
3          & \lr{Wins}                   & \lr{int}           & برد                \\ \hline
4          & \lr{Losses}                 & \lr{int}           & باخت               \\ \hline
5          & \lr{Points}                 & \lr{int}           & امتیازها           \\ \hline
6          & \lr{Rebounds}               & \lr{int}           & دریافت             \\ \hline
7          & \lr{Assists}                & \lr{int}           & پاس گل             \\ \hline
8          & \lr{TurnOvers}              & \lr{int}           & اشتباه             \\ \hline
9          & \lr{Steals}                 & \lr{int}           & سرقت               \\ \hline
10         & \lr{Blocks}                 & \lr{int}           & بلاک               \\ \hline
11         & \lr{FieldGoalShots}         & \lr{int}           & شوت‌های زمینی      \\ \hline
12         & \lr{FieldGoalMade}          & \lr{int}           & گل زده زمینی       \\ \hline
13         & \lr{ThreeGoalShots}         & \lr{int}           & شوت‌های سه امتیازی \\ \hline
14         & \lr{ThreeGoalMade}          & \lr{int}           & کل زده سه امتیازی  \\ \hline
15         & \lr{FreeThrowShots}         & \lr{int}           & شوت‌های آزاد       \\ \hline
16         & \lr{FreeThrowMade}          & \lr{int}           & گل زده آزاد        \\ \hline
17         & \lr{Fouls}                  & \lr{int}           & خطا                \\ \hline
18         & \lr{Started}                & \lr{int}           & شروع شده           \\ \hline
\end{tabular}
\end{table}



\section{\lr{Functions}}%2
\lr{Function}های این پایگاه‌داده در جدول زیر به تفصیل معرفی شده‌اند.
\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|}
\hline
           & \textbf{نام \lr{Function}}       & \textbf{توضیحات}                                                \\ \hline
\textbf{1} & \lr{bestOfEachCategory} & بازیکنان را براساس کتگوری خواسته شده مرتب کرده و بازمی‌گرداند.  \\ \hline
\textbf{2} & \lr{divisionRank}       & تیم‌ها را بر اساس دیویژن خواسته شده برمی‌گرداند.                \\ \hline
\textbf{3} & \lr{draft}              & بازیکنانی که در سال خواسته شده وارد لیگ شده‌اند را برمی‌گرداند. \\ \hline
\end{tabular}
\end{table}

\section{\lr{Stored procedures}}%3
\lr{Stored procedure}های این پایگاه‌داده در جدول زیر به تفصیل معرفی شده‌اند.

\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|}
\hline
           & \textbf{نام \lr{Stored Procedure}} & \textbf{توضیحات}  \\ \hline
\textbf{1} & \lr{addPlayer}                     & اضافه کردن بازیکن \\ \hline
\textbf{2} & \lr{deletePlayer}                  & حذف بازیکن        \\ \hline
\textbf{3} & \lr{addGame}                       & اضافه کردن بازی   \\ \hline
\end{tabular}
\end{table}


\section{\lr{Triggers}}%4
\lr{Trigger}های این پایگاه‌داده در جدول زیر به تفصیل معرفی شده‌اند.
\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|}
\hline
           & \textbf{نام \lr{Trigger}} & \textbf{توضیحات}                                                                                               \\ \hline
\textbf{1} & \lr{setWinner}            & با استفاده از امتیاز بین تیم ها مشخص می‌کند که کدام تیم برنده شده و در جدول \lr{Game} این داده را وارد می‌کند. \\ \hline
\textbf{2} & \lr{updateGameDate}       & با اضافه شدن بازی، تاریخ آن را با تاریخ ما همگام می‌کند.                                                       \\ \hline
\textbf{3} & \lr{updateRanking}        & پس از هر مسابقه تعداد برد و باخت تیم‌های شرکت‌کننده در جدول رده‌بندی بروزرسانی می‌شود.                         \\ \hline
\textbf{4} & \lr{updatePerSeason}      & پس از اضافه شدن \lr{StatsPerGame} برای یک بازیکن، مشخصات \lr{StatsPerSeason} او را بروز می‌کند.                \\ \hline
\end{tabular}
\end{table}

\section{\lr{Views}}%5
\lr{View}های این پایگاه‌داده در جدول زیر به تفصیل معرفی شده‌اند.
\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|}
\hline
           & \textbf{نام \lr{View}} & \textbf{توضیحات}                                                                    \\ \hline
\textbf{1} & \lr{biggestHomeWin}    & مشخصات برترین برد داخل خانه تیم را نشان می‌دهد.                                     \\ \hline
2          & \lr{biggestAwayWin}    & مشخصات برترین برد خارج خانه تیم را نشان می‌دهد.                                     \\ \hline
\textbf{3} & \lr{lebronTeamMates}   & هم تیمی‌های \lr{lebron James} (معروف‌ترین بازیکن بسکتبال) را به کاربر نمایش می‌دهد. \\ \hline
\end{tabular}
\end{table}




\end{document}
