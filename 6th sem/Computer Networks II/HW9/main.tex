\documentclass{article}

\usepackage{graphicx}
\usepackage{rotating}
\usepackage{amsmath}
\usepackage{fancyhdr}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{color}
\usepackage{textcomp}
\usepackage{float}
\usepackage[sorting=none]{biblatex}
\usepackage[margin=1in]{geometry}
\usepackage[font={small,it}]{caption}
\usepackage{placeins}
\usepackage{xepersian}

%\DeclareMathOperator*{\btie}{\bowtie}
\addbibresource{bibliography.bib}
\settextfont[Scale=1.2]{B-NAZANIN.TTF}
\setlatintextfont[Scale=1]{Times New Roman}
\renewcommand{\baselinestretch}{1.5}
\pagestyle{fancy}
\fancyhf{}
\rhead{تکلیف نهم درس شبکه‌های کامپیوتری 2}
\lhead{\thepage}
\rfoot{علیرضا ابره فروش}
\lfoot{9816603}
\renewcommand{\headrulewidth}{1pt}
\renewcommand{\footrulewidth}{1pt}
%%%%%%%%%%
\lstset
{
    language=[latex]tex,
    basicstyle=\ttfamily,
    commentstyle=\color{black},
    columns=fullflexible,
    keepspaces=true,
    upquote=true,
    showstringspaces=false,
    morestring=[s]\\\%,
    stringstyle=\color{black},
}
%%%%%%%%%%
%beginMatlab
\definecolor{mygreen}{RGB}{28,172,0} % color values Red, Green, Blue
\definecolor{mylilas}{RGB}{170,55,241}
%endMatlab
\begin{document}
%beginMatlab
\lstset{language=Matlab,%
    %basicstyle=\color{red},
    breaklines=true,%
    morekeywords={matlab2tikz},
    keywordstyle=\color{blue},%
    morekeywords=[2]{1}, keywordstyle=[2]{\color{black}},
    identifierstyle=\color{black},%
    stringstyle=\color{mylilas},
    commentstyle=\color{mygreen},%
    showstringspaces=false,%without this there will be a symbol in the places where there is a space
    numbers=left,%
    numberstyle={\tiny \color{black}},% size of the numbers
    numbersep=9pt, % this defines how far the numbers are from the text
    emph=[1]{for,end,break},emphstyle=[1]\color{red}, %some words to emphasise
    %emph=[2]{word1,word2}, emphstyle=[2]{style},    
}
%endMatlab
\input{titlepage}

%\tableofcontents
\newpage

\section{فصل 4}
\subsection{سوال 14}
از آنجایی که هدر آی‌پی 20 بایت است، بیشینه اندازه‌ی فیلد دیتا در هر فرگمنت 680 است. پس تعداد فرگمنت‌های مورد نیاز برابر است با:
$
\left\lceil \frac{2400-20}{680} \right\rceil=4
$
هر فرگمنت دارای \lr{identification number}ِ 422 خواهد بود. همه‌ی فرگمنت‌ها به جز آخرین فرگمنت اندازه‌اش با احتساب هدر آی‌پی 700 بایت است. اندازه‌ی آخرین دیتاگرام با احتساب هدر آی‌پی 360 بایت است. آفست فرگمنت‌ها به ترتیب 0، 85، 170 و 255 خواهد بود. \lr{flag} در سه فرگمنت اول برابر 1 و در آخرین فرگمنت برابر 0 است.
\subsection{سوال 16}
\subsubsection{\lr{a}}
آدرس‌های \lr{Home} \lr{192.168.1.1}، \lr{192.168.1.2} و \lr{192.168.1.3} هستند به همراه اینترفیس روتر \lr{192.168.1.4}.
\subsubsection{\lr{b}}
\begin{latin}
\begin{table}[H]
\begin{tabular}{|cc|l}
\cline{1-2}
\multicolumn{2}{|c|}{\textbf{NAT Translation Table}}          &  \\ \cline{1-2}
\multicolumn{1}{|c|}{\textbf{WAN Side}}   & \textbf{LAN Side} &  \\ \cline{1-2}
\multicolumn{1}{|c|}{24.34.112.235, 4000} & 192.168.1.1, 3345 &  \\ \cline{1-2}
\multicolumn{1}{|c|}{24.34.112.235, 4001} & 192.168.1.1, 3346 &  \\ \cline{1-2}
\multicolumn{1}{|c|}{24.34.112.235, 4002} & 192.168.1.2, 3445 &  \\ \cline{1-2}
\multicolumn{1}{|c|}{24.34.112.235, 4003} & 192.168.1.2, 3446 &  \\ \cline{1-2}
\multicolumn{1}{|c|}{24.34.112.235, 4004} & 192.168.1.3, 3545 &  \\ \cline{1-2}
\multicolumn{1}{|c|}{24.34.112.235, 4005} & 192.168.1.3, 3546 &  \\ \cline{1-2}
\end{tabular}
\end{table}
\end{latin}

\section{فصل 9}
\subsection{سوال 17}
\begin{latin}
\begin{table}[H]
\begin{tabular}{|c|c|c|}
\hline
\textbf{Time Slot} & \textbf{Packets in the queue} & \textbf{Number of tokens in bucket} \\ \hline
0                  & 1, 2, 3                       & 2                                   \\ \hline
1                  & 3, 4                          & 1                                   \\ \hline
2                  & 4,5                           & 1                                   \\ \hline
3                  & 5,6                           & 1                                   \\ \hline
4                  & 6                             & 1                                   \\ \hline
5                  & -                             & 1                                   \\ \hline
6                  & 7, 8                          & 2                                   \\ \hline
7                  & 9, 10                         & 1                                   \\ \hline
8                  & 10                            & 1                                   \\ \hline
\end{tabular}
\end{table}

\begin{table}[H]
\begin{tabular}{|c|c|}
\hline
\textbf{Time Slot} & \textbf{Packets in output buffer} \\ \hline
0                  & 1, 2                              \\ \hline
1                  & 3                                 \\ \hline
2                  & 4                                 \\ \hline
3                  & 5                                 \\ \hline
4                  & 6                                 \\ \hline
5                  & -                                 \\ \hline
6                  & 7, 8                              \\ \hline
7                  & 9                                 \\ \hline
8                  & 10                                \\ \hline
\end{tabular}
\end{table}


\end{latin}
\subsection{سوال 18}

\begin{latin}
\begin{table}[H]
\begin{tabular}{|c|c|c|}
\hline
\textbf{Time Slot} & \textbf{Packets in the queue} & \textbf{Number of tokens in bucket} \\ \hline
0                  & 1, 2, 3                       & 2                                   \\ \hline
1                  & 3, 4                          & 2                                   \\ \hline
2                  & 5                             & 2                                   \\ \hline
3                  & 6                             & 2                                   \\ \hline
4                  & -                             & 2                                   \\ \hline
5                  & -                             & 2                                   \\ \hline
6                  & 7, 8                          & 2                                   \\ \hline
7                  & 9, 10                         & 2                                   \\ \hline
8                  & -                             & 2                                   \\ \hline
\end{tabular}
\end{table}

\begin{table}[H]
\begin{tabular}{|c|c|}
\hline
\textbf{Time Slot} & \textbf{Packets in output buffer} \\ \hline
0                  & 1, 2                              \\ \hline
1                  & 3, 4                              \\ \hline
2                  & 5                                 \\ \hline
3                  & 6                                 \\ \hline
4                  & -                                 \\ \hline
5                  & -                                 \\ \hline
6                  & 7, 8                              \\ \hline
7                  & 9, 10                             \\ \hline
8                  & -                                 \\ \hline
\end{tabular}
\end{table}

\end{latin}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section*{منابع}
\renewcommand{\section}[2]{}%
\begin{thebibliography}{99} % assumes less than 100 references
%چنانچه مرجع فارسی نیز داشته باشید باید دستور فوق را فعال کنید و مراجع فارسی خود را بعد از این دستور وارد کنید


\begin{LTRitems}

\resetlatinfont

\bibitem{b1}
\end{LTRitems}

\end{thebibliography}


\end{document}
